<div class="container">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="mb-0">Tous les Gossips</h2>
        <%= link_to "CrÃ©er un nouveau gossip", new_gossip_path, class: "btn btn-primary" %>
    </div>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        <% @gossips.each do |gossip| %>
        <div class="col">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <h5 class="card-title text-primary"><%= gossip.title %></h5>
                    <p class="card-text"><%= truncate(gossip.content, length: 120, separator: ' ') %></p>
                    <hr>
                    <p class="card-subtitle text-muted small">
                        ðŸ’¬ Par
                        <strong>
                            <%= gossip.author&.fullname || "Auteur inconnu" %>
                        </strong>
                        <% if gossip.author&.user&.city %>
                        de <strong><%= gossip.author.user.city.name %></strong>
                        <% end %>

                    </p>

                    <%= link_to "Lire plus", gossip_path(gossip), class: "btn btn-outline-primary mt-2" %>
                    <% if gossip.author&.showable_profile? %>
                    <%= link_to "Voir le profil de l'auteur", user_path(gossip.author.user), class: "btn btn-outline-secondary mt-2" %>
                    <% end %>




                </div>
            </div>
        </div>
        <% end %>
    </div>
</div>